<!-- # CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->
<div class="ctn-view dashboard container-fluid">
  <div class="sections row">
    <div class="col-xs-12 col-sm-8 col-lg-10">


      <section class="now"
               ng-class="{'loading': loading}">
        <div class="inner">
          <header>
            <div class="row">
              <h1 class="col-xs-4 section-title">Actual</h1>
            </div>
          </header>

          <div class="row stats">
            <div class="col-xs-6 col-lg-3">
              <div class="stats-label"
                   ng-if="!hasProcessSearch">Running Process Inst.</div>
              <a class="stats-label"
                 href="#/processes?searchQuery=%5B%7B%22type%22:%22PIunfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D"
                 ng-if="hasProcessSearch">Running Process Inst.</a>
              <span class="value">
                {{ (!data.actual.runningProcessInstances ? 0 : '') }}
                {{ data.actual.runningProcessInstances | abbreviateNumber }}
              </span>
            </div>

            <div class="col-xs-6 col-lg-3">
              <div class="stats-label"
                   ng-if="!hasProcessSearch">Open Incidents</div>
              <a class="stats-label"
                 href="#/processes?searchQuery=%5B%7B%22type%22:%22PIIncidentStatus%22,%22operator%22:%22eq%22,%22value%22:%22open%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIwithIncidents%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D"
                 ng-if="hasProcessSearch">Open Incidents</a>
              <span class="value">
                {{ (!data.actual.openIncidents ? 0 : '') }}
                {{ data.actual.openIncidents | abbreviateNumber }}
              </span>
            </div>

            <div class="col-xs-6 col-lg-3">
              <div class="stats-label"
                   ng-if="!hasCaseSearch">Open Cases</div>
              <a class="stats-label"
                 ng-if="hasCaseSearch"
                 href="#/cases?searchQuery=%5B%7B%22type%22:%22notClosed%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D">Open Cases</a>
              <span class="value">
                {{ (!data.actual.caseInstances ? 0 : '') }}
                {{ data.actual.caseInstances | abbreviateNumber }}
              </span>
            </div>

            <div class="col-xs-6 col-lg-3">
              <div class="stats-label"
                   ng-if="!hasTaskSearch">Open Human Tasks</div>
              <a class="stats-label"
                 ng-if="hasTaskSearch"
                 href="#/tasks?searchQuery=%5B%7B%22type%22:%22TAunfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D">Open Human Tasks</a>
              <span class="value">
                {{ (!data.actual.tasks ? 0 : '') }}
                {{ data.actual.tasks | abbreviateNumber }}
              </span>
            </div>
          </div>
        </div>
      </section>


      <section class="metrics"
               ng-if="metricsPlugins.length">
        <div class="inner">
          <header>
            <div class="row">
              <h1 class="col-xs-3 section-title">Metrics</h1>

              <div class="col-xs-9 text-right">
                <ul class="nav nav-tabs">
                  <li ng-class="{active: metricsPeriod === 'day'}">
                    <a ng-click="setMetricsPeriod('day')">Today</a>
                  </li>

                  <li ng-class="{active: metricsPeriod === 'week'}">
                    <a ng-click="setMetricsPeriod('week')">This week</a>
                  </li>

                  <li ng-class="{active: metricsPeriod === 'month'}">
                    <a ng-click="setMetricsPeriod('month')">This month</a>
                  </li>
                </ul>
              </div>
            </div>
          </header>


          <div class="row stats">
            <div ng-repeat="plugin in metricsPlugins"
                 data-plugin-id="{{ plugin.id }}"
                 class="col-md-6 col-lg-4 entry">
              <h4>{{ plugin.label }}</h4>
              <view vars="metricsVars"
                    provider="plugin"
                    period="metricsPeriod"
                    class="row"></view>
            </div>
          </div>


        </div>
      </section>
    </div>


    <section class="col-xs-12 col-sm-4 col-lg-2 deployed"
             ng-class="{'loading': loading}">
      <div class="inner">
        <header>
          <h1 class="section-title">Deployed</h1>
        </header>

        <div class="row stats">
          <div class="col-sm-12 col-md-6 col-lg-12">
            <a class="stats-label"
               href="#/processes">Process Definitions</a>
            <span class="value">
              {{ (!data.deployed.processDefinitions ? 0 : '') }}
              {{ data.deployed.processDefinitions | abbreviateNumber }}
            </span>
          </div>

          <div class="col-sm-12 col-md-6 col-lg-12">
            <a class="stats-label"
               href="#/decisions">Decision Definitions</a>
            <span class="value">
              {{ (!data.deployed.decisionDefinitions ? 0 : '') }}
              {{ data.deployed.decisionDefinitions | abbreviateNumber }}
            </span>
          </div>

          <div class="col-sm-12 col-md-6 col-lg-12">
            <a class="stats-label"
               href="#/cases">Case Definitions</a>
            <span class="value">
              {{ (!data.deployed.caseDefinitions ? 0 : '') }}
              {{ data.deployed.caseDefinitions | abbreviateNumber }}
            </span>
          </div>

          <div class="col-sm-12 col-md-6 col-lg-12">
            <a class="stats-label"
               href="#/repository">Deployments</a>
            <span class="value">
              {{ (!data.deployed.deploymentDefinitions ? 0 : '') }}
              {{ data.deployed.deploymentDefinitions | abbreviateNumber }}
            </span>
          </div>
        </div>
      </div>
    </section>
  </div>

  <div ng-repeat="plugin in deprecateDashboardProviders"
       class="deprecate-dashboard-view row"
       data-plugin-id="{{ plugin.id }}">
    <view vars="dashboardVars"
          provider="plugin"></view>
  </div>
</div>
<!-- / CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html -->
